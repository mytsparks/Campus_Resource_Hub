{% extends "base.html" %}
{% block title %}Messages{% endblock %}
{% block content %}
<div class="bg-white shadow-xl rounded-xl p-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Messages</h1>
    
    {% if conversations %}
    <div class="space-y-2">
        {% for conv in conversations %}
        <a href="{{ url_for('messages.view_thread', thread_id=conv.thread_id) }}" 
           class="block border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition">
            <div class="flex justify-between items-center">
                <div>
                    <p class="font-semibold text-gray-800">Thread #{{ conv.thread_id }}</p>
                    <p class="text-sm text-gray-500">Last message: {{ conv.last_message_time.strftime('%Y-%m-%d %H:%M') if conv.last_message_time else 'N/A' }}</p>
                </div>
                <span class="text-indigo-600">â†’</span>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-12">
        <p class="text-gray-500 text-lg">No messages yet.</p>
    </div>
    {% endif %}
</div>
{% endblock %}

